<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Application Status</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="icon" type="image/png" href="../images/ksitm logo.png" />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <link rel="stylesheet" href="../src/output.css" />
  </head>
  <body class="bg-gray-50 text-gray-800">
    <!-- Header -->
    <header class="bg-violet-700 py-6 text-center text-white shadow-md">
      <h2 class="text-2xl md:text-3xl font-bold">
        <i class="fas fa-clipboard-check mr-2"></i> Application Status
      </h2>
    </header>

    <!-- Back & Refresh Controls -->
    <section class="max-w-4xl mx-auto px-4 mt-6">
      <div class="flex items-center gap-4 mb-4">
        <!-- Back to Dashboard -->
        <a
          href="dashboard.html"
          class="inline-flex items-center gap-2 text-violet-700 font-semibold hover:text-violet-900 transition"
        >
          <i class="fas fa-arrow-left"></i> Back to Dashboard
        </a>

        <!-- Refresh Status -->
        <button
          id="refreshStatus"
          class="inline-flex items-center gap-2 text-orange-600 font-semibold hover:text-orange-800 transition"
        >
          <i class="fas fa-sync-alt"></i> Refresh Status
        </button>
      </div>
    </section>

    <!-- Status Card -->
    <section class="max-w-4xl mx-auto px-4 mb-10">
      <div
        class="bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden"
        id="statusCard"
      >
        <!-- Card Header -->
        <div
          class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 p-6 bg-violet-700 text-white"
        >
          <!-- Applicant Info -->
          <div class="space-y-1">
            <h5
              class="text-lg md:text-xl font-bold flex items-center gap-2"
              id="cardName"
            >
              <i class="fas fa-user-shield"></i>
              <span>Applicant: Habib</span>
            </h5>
            <p
              class="text-sm md:text-base opacity-90 flex items-center gap-2"
              id="cardCourse"
            >
              <i class="fas fa-book-open"></i>
              <span>Course: Web Development</span>
            </p>
          </div>

          <!-- Status Badge -->
          <div>
            <span
              class="inline-flex items-center gap-2 px-4 py-2 text-sm md:text-base font-semibold rounded-full shadow-md bg-yellow-200 text-yellow-800"
              id="cardStatus"
            >
              <i class="fas fa-hourglass-half"></i>
              <span>Status: Pending</span>
            </span>
          </div>
        </div>

        <!-- Card Body -->
        <div class="p-6">
          <button
            id="toggleDetails"
            class="inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-violet-700 border border-violet-700 rounded-full hover:bg-violet-700 hover:text-white transition"
          >
            <i class="fas fa-chevron-down"></i> View Details
          </button>

          <!-- Expandable Details -->
          <div
            id="detailsCollapse"
            class="hidden mt-4 border-t pt-4 bg-gray-50 rounded-lg"
          >
            <div id="detailsContainer" class="text-sm text-gray-700 space-y-3">
              <!-- Details will be injected here -->
            </div>
          </div>
        </div>

        <!-- Security Footer -->
        <div
          class="bg-gray-100 px-6 py-3 flex items-center gap-2 text-xs text-gray-600 border-t"
        >
          <i class="fas fa-lock text-violet-600"></i>
          <span>Securely synced with KSITM eâ€‘Learning platform</span>
        </div>
      </div>
    </section>

    <!-- Supabase client -->
    <script type="module">
      import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";
      const supabase = createClient(
        "https://cwyiyplxadmcevejshtl.supabase.co",
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN3eWl5cGx4YWRtY2V2ZWpzaHRsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4MjI3MDcsImV4cCI6MjA4NDM5ODcwN30.bbMmrLZphjkUOl_m8HlfqwKZ08lkCZ7Vj39edpm3_LY",
      );
      window.supabase = supabase;
    </script>
    <script src="../Js/status.js"></script>
    <script src="../Js/overlay.js"></script>
  </body>
</html>
